# WolfAlert Environment Configuration
# Copy this file to .env and fill in your values

# ===== ENVIRONMENT =====
NODE_ENV=development
ENVIRONMENT=development

# ===== API CONFIGURATION =====
# OpenAI API Key (required for AI analysis)
OPENAI_API_KEY=sk-your-openai-api-key-here

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# ===== DATABASE CONFIGURATION =====
# PostgreSQL Database URL
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/wolfalert

# Database Pool Settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ===== REDIS CONFIGURATION =====
# Redis URL for caching and sessions
REDIS_URL=redis://localhost:6379/0

# Redis Settings
REDIS_MAX_CONNECTIONS=10
REDIS_RETRY_ON_TIMEOUT=true

# ===== FRONTEND CONFIGURATION =====
# Next.js Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ===== SECURITY =====
# JWT Secret Key (generate a strong random string)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Session Configuration
SESSION_SECRET_KEY=your-session-secret-key-change-this
SESSION_EXPIRE_HOURS=24

# ===== CORS SETTINGS =====
CORS_ORIGINS=http://localhost:3000,https://wolfalert.app,https://dev.wolfalert.app
CORS_ALLOW_CREDENTIALS=true

# ===== RSS PROCESSING =====
# RSS Fetch Configuration
RSS_FETCH_INTERVAL_HOURS=4
RSS_FETCH_TIMEOUT_SECONDS=30
RSS_MAX_ARTICLES_PER_SOURCE=50

# Content Processing
ARTICLE_EXPIRY_DAYS=30
AI_ANALYSIS_TIMEOUT_SECONDS=30
AI_RELEVANCE_THRESHOLD=0.40

# ===== LOGGING =====
LOG_LEVEL=INFO
LOG_FORMAT=json

# Sentry for Error Tracking (optional)
SENTRY_DSN=https://your-sentry-dsn-here.ingest.sentry.io/project-id

# ===== CELERY BACKGROUND TASKS =====
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# ===== RAILWAY PRODUCTION OVERRIDES =====
# These will be set automatically by Railway in production
# PORT=8000
# DATABASE_URL=postgresql://...
# REDIS_URL=redis://...

# ===== DEVELOPMENT SETTINGS =====
# Enable debug mode (development only)
DEBUG=true
RELOAD=true

# ===== RATE LIMITING =====
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MINUTES=15

# ===== MONITORING =====
ENABLE_METRICS=true
METRICS_PORT=9090

# ===== AI PROCESSING =====
# OpenAI Model Settings
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.3

# AI Cost Management
OPENAI_MAX_REQUESTS_PER_HOUR=1000
AI_CACHE_TTL_HOURS=24

# ===== CONTENT SOURCES =====
# RSS Source Management
ENABLE_COMMUNITY_SOURCES=true
ENABLE_GITHUB_RELEASES=true
SOURCE_RELIABILITY_THRESHOLD=medium